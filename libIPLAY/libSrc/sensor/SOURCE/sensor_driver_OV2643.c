/*
// define this module show debug message or not,  0 : disable, 1 : enable
*/
#define LOCAL_DEBUG_ENABLE 1

#include "global612.h"
#include "mpTrace.h"
#include "sensor.h"



#if ((SENSOR_ENABLE == ENABLE) && defined(SENSOR_TYPE_OV2643))

extern BYTE sensor_mode;
extern BYTE sensor_IMGSIZE_ID;
extern BYTE sensor_FrameRate;

extern BYTE *g_bImageData_Buf;

#if ((CHIP_VER_MSB == CHIP_VER_650) || (CHIP_VER_MSB == CHIP_VER_660))
static void ov2643_set_176x144(void)
{

	
	MP_DEBUG1("## %s ##", __FUNCTION__);		

	I2CM_WtReg8Data8(0x60 , 0x12 , 0x80 );
	I2CM_WtReg8Data8(0x60 , 0xc3 , 0x1f ); 
	I2CM_WtReg8Data8(0x60 , 0xc4 , 0xff );	
	I2CM_WtReg8Data8(0x60 , 0x3d , 0x48 );
	I2CM_WtReg8Data8(0x60 , 0xdd , 0xa5 ); 
	I2CM_WtReg8Data8(0x60 , 0x0e , 0xb8 );
	I2CM_WtReg8Data8(0x60 , 0x10 , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x11 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x0f , 0x14 );
	I2CM_WtReg8Data8(0x60 , 0x20 , 0x01 );
	I2CM_WtReg8Data8(0x60 , 0x21 , 0x98 );
	I2CM_WtReg8Data8(0x60 , 0x22 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x23 , 0x06 );
	I2CM_WtReg8Data8(0x60 , 0x24 , 0x32 );
	I2CM_WtReg8Data8(0x60 , 0x26 , 0x25 );
	I2CM_WtReg8Data8(0x60 , 0x27 , 0x84 );
	I2CM_WtReg8Data8(0x60 , 0x29 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x2a , 0xce );
	I2CM_WtReg8Data8(0x60 , 0x2b , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x2c , 0x8a );
	I2CM_WtReg8Data8(0x60 , 0x1d , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x25 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x27 , 0x84 );
	I2CM_WtReg8Data8(0x60 , 0x28 , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0x12 , 0x0b ); /*200x150*/
	I2CM_WtReg8Data8(0x60 , 0x39 , 0xd0 );
	I2CM_WtReg8Data8(0x60 , 0xcd , 0x13 );
	I2CM_WtReg8Data8(0x60 , 0x13 , 0xff );
	I2CM_WtReg8Data8(0x60 , 0x14 , 0xa7 );
	I2CM_WtReg8Data8(0x60 , 0x15 , 0x42 );
	I2CM_WtReg8Data8(0x60 , 0x3c , 0xa4 );
	I2CM_WtReg8Data8(0x60 , 0x18 , 0x60 );
	I2CM_WtReg8Data8(0x60 , 0x19 , 0x50 );
	I2CM_WtReg8Data8(0x60 , 0x1a , 0xe2 );
	I2CM_WtReg8Data8(0x60 , 0x37 , 0xe8 );
	I2CM_WtReg8Data8(0x60 , 0x16 , 0x90 );
	I2CM_WtReg8Data8(0x60 , 0x43 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x40 , 0xfb );
	I2CM_WtReg8Data8(0x60 , 0xa9 , 0x44 );
	I2CM_WtReg8Data8(0x60 , 0x2f , 0xec );
	I2CM_WtReg8Data8(0x60 , 0x35 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x36 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x0c , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x0d , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0xd0 , 0x93 );
	I2CM_WtReg8Data8(0x60 , 0xdc , 0x2b );
	I2CM_WtReg8Data8(0x60 , 0xd9 , 0x41 );
	I2CM_WtReg8Data8(0x60 , 0xd3 , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0xde , 0x7c );
	I2CM_WtReg8Data8(0x60 , 0x3d , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x0c , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x18 , 0x2c );
	I2CM_WtReg8Data8(0x60 , 0x19 , 0x24 );
	I2CM_WtReg8Data8(0x60 , 0x1a , 0x71 );
	I2CM_WtReg8Data8(0x60 , 0x9b , 0x69 );
	I2CM_WtReg8Data8(0x60 , 0x9c , 0x7d );
	I2CM_WtReg8Data8(0x60 , 0x9d , 0x7d );
	I2CM_WtReg8Data8(0x60 , 0x9e , 0x69 );
	I2CM_WtReg8Data8(0x60 , 0x35 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x36 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x65 , 0x12 );
	I2CM_WtReg8Data8(0x60 , 0x66 , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0x67 , 0x39 );
	I2CM_WtReg8Data8(0x60 , 0x68 , 0x4e );
	I2CM_WtReg8Data8(0x60 , 0x69 , 0x62 );
	I2CM_WtReg8Data8(0x60 , 0x6a , 0x74 );
	I2CM_WtReg8Data8(0x60 , 0x6b , 0x85 );
	I2CM_WtReg8Data8(0x60 , 0x6c , 0x92 );
	I2CM_WtReg8Data8(0x60 , 0x6d , 0x9e );
	I2CM_WtReg8Data8(0x60 , 0x6e , 0xb2 );
	I2CM_WtReg8Data8(0x60 , 0x6f , 0xc0 );
	I2CM_WtReg8Data8(0x60 , 0x70 , 0xcc );
	I2CM_WtReg8Data8(0x60 , 0x71 , 0xe0 );
	I2CM_WtReg8Data8(0x60 , 0x72 , 0xee );
	I2CM_WtReg8Data8(0x60 , 0x73 , 0xf6 );
	I2CM_WtReg8Data8(0x60 , 0x74 , 0x11 );
	I2CM_WtReg8Data8(0x60 , 0xab , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0xac , 0x5b );
	I2CM_WtReg8Data8(0x60 , 0xad , 0x05 );
	I2CM_WtReg8Data8(0x60 , 0xae , 0x1b );
	I2CM_WtReg8Data8(0x60 , 0xaf , 0x76 );
	I2CM_WtReg8Data8(0x60 , 0xb0 , 0x90 );
	I2CM_WtReg8Data8(0x60 , 0xb1 , 0x90 );
	I2CM_WtReg8Data8(0x60 , 0xb2 , 0x8c );
	I2CM_WtReg8Data8(0x60 , 0xb3 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0xb4 , 0x98 );
	I2CM_WtReg8Data8(0x60 , 0x4c , 0x03 );
	I2CM_WtReg8Data8(0x60 , 0x4d , 0x30 );
	I2CM_WtReg8Data8(0x60 , 0x4e , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x4f , 0x5c );
	I2CM_WtReg8Data8(0x60 , 0x50 , 0x56 );
	I2CM_WtReg8Data8(0x60 , 0x51 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x52 , 0x66 );
	I2CM_WtReg8Data8(0x60 , 0x53 , 0x03 );
	I2CM_WtReg8Data8(0x60 , 0x54 , 0x30 );
	I2CM_WtReg8Data8(0x60 , 0x55 , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x56 , 0x5c );
	I2CM_WtReg8Data8(0x60 , 0x57 , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0x58 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x59 , 0x66 );
	I2CM_WtReg8Data8(0x60 , 0x5a , 0x03 );
	I2CM_WtReg8Data8(0x60 , 0x5b , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0x5c , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x5d , 0x5c );
	I2CM_WtReg8Data8(0x60 , 0x5e , 0x3a );
	I2CM_WtReg8Data8(0x60 , 0x5f , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x60 , 0x66 );
	I2CM_WtReg8Data8(0x60 , 0x41 , 0x1f );
	I2CM_WtReg8Data8(0x60 , 0xb5 , 0x01 );
	I2CM_WtReg8Data8(0x60 , 0xb6 , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0xb9 , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0xba , 0x28 );
	I2CM_WtReg8Data8(0x60 , 0xbf , 0x0c );
	I2CM_WtReg8Data8(0x60 , 0xc0 , 0x3e );
	I2CM_WtReg8Data8(0x60 , 0xa3 , 0x0a );
	I2CM_WtReg8Data8(0x60 , 0xa4 , 0x0f );
	I2CM_WtReg8Data8(0x60 , 0xa5 , 0x09 );
	I2CM_WtReg8Data8(0x60 , 0xa6 , 0x16 );
	I2CM_WtReg8Data8(0x60 , 0x9f , 0x0a );
	I2CM_WtReg8Data8(0x60 , 0xa0 , 0x0f );
	I2CM_WtReg8Data8(0x60 , 0xa7 , 0x0a );
	I2CM_WtReg8Data8(0x60 , 0xa8 , 0x0f );
	I2CM_WtReg8Data8(0x60 , 0xa1 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0xa2 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0xa9 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0xaa , 0xa6 );
	I2CM_WtReg8Data8(0x60 , 0x75 , 0x6a );
	I2CM_WtReg8Data8(0x60 , 0x76 , 0x11 );
	I2CM_WtReg8Data8(0x60 , 0x77 , 0x92 );
	I2CM_WtReg8Data8(0x60 , 0x78 , 0x21 );
	I2CM_WtReg8Data8(0x60 , 0x79 , 0xe1 );
	I2CM_WtReg8Data8(0x60 , 0x7a , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x7c , 0x05 );
	I2CM_WtReg8Data8(0x60 , 0x7d , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x7e , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x7f , 0x7c );
	I2CM_WtReg8Data8(0x60 , 0x80 , 0x58 );
	I2CM_WtReg8Data8(0x60 , 0x81 , 0x2a );
	I2CM_WtReg8Data8(0x60 , 0x82 , 0xc5 );
	I2CM_WtReg8Data8(0x60 , 0x83 , 0x46 );
	I2CM_WtReg8Data8(0x60 , 0x84 , 0x3a );
	I2CM_WtReg8Data8(0x60 , 0x85 , 0x54 );
	I2CM_WtReg8Data8(0x60 , 0x86 , 0x44 );
	I2CM_WtReg8Data8(0x60 , 0x87 , 0xf8 );
	I2CM_WtReg8Data8(0x60 , 0x88 , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x89 , 0x70 );
	I2CM_WtReg8Data8(0x60 , 0x8a , 0xf0 );
	I2CM_WtReg8Data8(0x60 , 0x8b , 0xf0 );
	I2CM_WtReg8Data8(0x60 , 0x90 , 0xe3 );
	I2CM_WtReg8Data8(0x60 , 0x93 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x94 , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0x95 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x96 , 0x18 );

}
static void ov2643_setQVGA_320x240_30FPS(void)
{
	/*
	@@ CIF400x300 (YUV) 30fps 
	100 99 400 300 
	100 98 0 0 
	; 
	;OV2643 setting Version History 
	; 
	; 
	;date 03/31/2009 
	;--R1B 3rd release of OV2643 Rev1B(AA) setting based AB_V01.
	;--Lower the PCLK for SVGA 30fps and CIF 30fps settings 
	
	*/	
		MP_DEBUG1("## %s ##", __FUNCTION__); 	
												
		I2CM_WtReg8Data8(0x60 , 0x12 , 0x80 );
		I2CM_WtReg8Data8(0x60 , 0xc3 , 0x1f ); 
		I2CM_WtReg8Data8(0x60 , 0xc4 , 0xff );	
		I2CM_WtReg8Data8(0x60 , 0x3d , 0x48 );
		I2CM_WtReg8Data8(0x60 , 0xdd , 0xa5 ); 
		I2CM_WtReg8Data8(0x60 , 0x0e , 0xb8 );
		I2CM_WtReg8Data8(0x60 , 0x10 , 0x08 );
		I2CM_WtReg8Data8(0x60 , 0x11 , 0x00 );
		I2CM_WtReg8Data8(0x60 , 0x0f , 0x14 );
		I2CM_WtReg8Data8(0x60 , 0x20 , 0x01 );
		I2CM_WtReg8Data8(0x60 , 0x21 , 0x98 );
		I2CM_WtReg8Data8(0x60 , 0x22 , 0x00 );
		I2CM_WtReg8Data8(0x60 , 0x23 , 0x06 );
		I2CM_WtReg8Data8(0x60 , 0x24 , 0x32 );
		I2CM_WtReg8Data8(0x60 , 0x26 , 0x25 );
		I2CM_WtReg8Data8(0x60 , 0x27 , 0x84 );
		I2CM_WtReg8Data8(0x60 , 0x29 , 0x04 );
		I2CM_WtReg8Data8(0x60 , 0x2a , 0xce );
		I2CM_WtReg8Data8(0x60 , 0x2b , 0x02 );
		I2CM_WtReg8Data8(0x60 , 0x2c , 0x8a );
		I2CM_WtReg8Data8(0x60 , 0x1d , 0x04 );
		I2CM_WtReg8Data8(0x60 , 0x25 , 0x04 );
		I2CM_WtReg8Data8(0x60 , 0x27 , 0x84 );
		I2CM_WtReg8Data8(0x60 , 0x28 , 0x40 );
		I2CM_WtReg8Data8(0x60 , 0x12 , 0x0a );
		I2CM_WtReg8Data8(0x60 , 0x39 , 0xd0 );
		I2CM_WtReg8Data8(0x60 , 0xcd , 0x13 );
		I2CM_WtReg8Data8(0x60 , 0x13 , 0xff );
		I2CM_WtReg8Data8(0x60 , 0x14 , 0xa7 );
		I2CM_WtReg8Data8(0x60 , 0x15 , 0x42 );
		I2CM_WtReg8Data8(0x60 , 0x3c , 0xa4 );
		I2CM_WtReg8Data8(0x60 , 0x18 , 0x60 );
		I2CM_WtReg8Data8(0x60 , 0x19 , 0x50 );
		I2CM_WtReg8Data8(0x60 , 0x1a , 0xe2 );
		I2CM_WtReg8Data8(0x60 , 0x37 , 0xe8 );
		I2CM_WtReg8Data8(0x60 , 0x16 , 0x90 );
		I2CM_WtReg8Data8(0x60 , 0x43 , 0x00 );
		I2CM_WtReg8Data8(0x60 , 0x40 , 0xfb );
		I2CM_WtReg8Data8(0x60 , 0xa9 , 0x44 );
		I2CM_WtReg8Data8(0x60 , 0x2f , 0xec );
		I2CM_WtReg8Data8(0x60 , 0x35 , 0x10 );
		I2CM_WtReg8Data8(0x60 , 0x36 , 0x10 );
		I2CM_WtReg8Data8(0x60 , 0x0c , 0x00 );
		I2CM_WtReg8Data8(0x60 , 0x0d , 0x00 );
		I2CM_WtReg8Data8(0x60 , 0xd0 , 0x93 );
		I2CM_WtReg8Data8(0x60 , 0xdc , 0x2b );
		I2CM_WtReg8Data8(0x60 , 0xd9 , 0x41 );
		I2CM_WtReg8Data8(0x60 , 0xd3 , 0x02 );
		I2CM_WtReg8Data8(0x60 , 0xde , 0x7c );
		I2CM_WtReg8Data8(0x60 , 0x3d , 0x08 );
		I2CM_WtReg8Data8(0x60 , 0x0c , 0x00 );
		I2CM_WtReg8Data8(0x60 , 0x18 , 0x2c );
		I2CM_WtReg8Data8(0x60 , 0x19 , 0x24 );
		I2CM_WtReg8Data8(0x60 , 0x1a , 0x71 );
		I2CM_WtReg8Data8(0x60 , 0x9b , 0x69 );
		I2CM_WtReg8Data8(0x60 , 0x9c , 0x7d );
		I2CM_WtReg8Data8(0x60 , 0x9d , 0x7d );
		I2CM_WtReg8Data8(0x60 , 0x9e , 0x69 );
		I2CM_WtReg8Data8(0x60 , 0x35 , 0x04 );
		I2CM_WtReg8Data8(0x60 , 0x36 , 0x04 );
		I2CM_WtReg8Data8(0x60 , 0x65 , 0x12 );
		I2CM_WtReg8Data8(0x60 , 0x66 , 0x20 );
		I2CM_WtReg8Data8(0x60 , 0x67 , 0x39 );
		I2CM_WtReg8Data8(0x60 , 0x68 , 0x4e );
		I2CM_WtReg8Data8(0x60 , 0x69 , 0x62 );
		I2CM_WtReg8Data8(0x60 , 0x6a , 0x74 );
		I2CM_WtReg8Data8(0x60 , 0x6b , 0x85 );
		I2CM_WtReg8Data8(0x60 , 0x6c , 0x92 );
		I2CM_WtReg8Data8(0x60 , 0x6d , 0x9e );
		I2CM_WtReg8Data8(0x60 , 0x6e , 0xb2 );
		I2CM_WtReg8Data8(0x60 , 0x6f , 0xc0 );
		I2CM_WtReg8Data8(0x60 , 0x70 , 0xcc );
		I2CM_WtReg8Data8(0x60 , 0x71 , 0xe0 );
		I2CM_WtReg8Data8(0x60 , 0x72 , 0xee );
		I2CM_WtReg8Data8(0x60 , 0x73 , 0xf6 );
		I2CM_WtReg8Data8(0x60 , 0x74 , 0x11 );
		I2CM_WtReg8Data8(0x60 , 0xab , 0x20 );
		I2CM_WtReg8Data8(0x60 , 0xac , 0x5b );
		I2CM_WtReg8Data8(0x60 , 0xad , 0x05 );
		I2CM_WtReg8Data8(0x60 , 0xae , 0x1b );
		I2CM_WtReg8Data8(0x60 , 0xaf , 0x76 );
		I2CM_WtReg8Data8(0x60 , 0xb0 , 0x90 );
		I2CM_WtReg8Data8(0x60 , 0xb1 , 0x90 );
		I2CM_WtReg8Data8(0x60 , 0xb2 , 0x8c );
		I2CM_WtReg8Data8(0x60 , 0xb3 , 0x04 );
		I2CM_WtReg8Data8(0x60 , 0xb4 , 0x98 );
		I2CM_WtReg8Data8(0x60 , 0x4c , 0x03 );
		I2CM_WtReg8Data8(0x60 , 0x4d , 0x30 );
		I2CM_WtReg8Data8(0x60 , 0x4e , 0x02 );
		I2CM_WtReg8Data8(0x60 , 0x4f , 0x5c );
		I2CM_WtReg8Data8(0x60 , 0x50 , 0x56 );
		I2CM_WtReg8Data8(0x60 , 0x51 , 0x00 );
		I2CM_WtReg8Data8(0x60 , 0x52 , 0x66 );
		I2CM_WtReg8Data8(0x60 , 0x53 , 0x03 );
		I2CM_WtReg8Data8(0x60 , 0x54 , 0x30 );
		I2CM_WtReg8Data8(0x60 , 0x55 , 0x02 );
		I2CM_WtReg8Data8(0x60 , 0x56 , 0x5c );
		I2CM_WtReg8Data8(0x60 , 0x57 , 0x40 );
		I2CM_WtReg8Data8(0x60 , 0x58 , 0x00 );
		I2CM_WtReg8Data8(0x60 , 0x59 , 0x66 );
		I2CM_WtReg8Data8(0x60 , 0x5a , 0x03 );
		I2CM_WtReg8Data8(0x60 , 0x5b , 0x20 );
		I2CM_WtReg8Data8(0x60 , 0x5c , 0x02 );
		I2CM_WtReg8Data8(0x60 , 0x5d , 0x5c );
		I2CM_WtReg8Data8(0x60 , 0x5e , 0x3a );
		I2CM_WtReg8Data8(0x60 , 0x5f , 0x00 );
		I2CM_WtReg8Data8(0x60 , 0x60 , 0x66 );
		I2CM_WtReg8Data8(0x60 , 0x41 , 0x1f );
		I2CM_WtReg8Data8(0x60 , 0xb5 , 0x01 );
		I2CM_WtReg8Data8(0x60 , 0xb6 , 0x02 );
		I2CM_WtReg8Data8(0x60 , 0xb9 , 0x40 );
		I2CM_WtReg8Data8(0x60 , 0xba , 0x28 );
		I2CM_WtReg8Data8(0x60 , 0xbf , 0x0c );
		I2CM_WtReg8Data8(0x60 , 0xc0 , 0x3e );
		I2CM_WtReg8Data8(0x60 , 0xa3 , 0x0a );
		I2CM_WtReg8Data8(0x60 , 0xa4 , 0x0f );
		I2CM_WtReg8Data8(0x60 , 0xa5 , 0x09 );
		I2CM_WtReg8Data8(0x60 , 0xa6 , 0x16 );
		I2CM_WtReg8Data8(0x60 , 0x9f , 0x0a );
		I2CM_WtReg8Data8(0x60 , 0xa0 , 0x0f );
		I2CM_WtReg8Data8(0x60 , 0xa7 , 0x0a );
		I2CM_WtReg8Data8(0x60 , 0xa8 , 0x0f );
		I2CM_WtReg8Data8(0x60 , 0xa1 , 0x10 );
		I2CM_WtReg8Data8(0x60 , 0xa2 , 0x04 );
		I2CM_WtReg8Data8(0x60 , 0xa9 , 0x04 );
		I2CM_WtReg8Data8(0x60 , 0xaa , 0xa6 );
		I2CM_WtReg8Data8(0x60 , 0x75 , 0x6a );
		I2CM_WtReg8Data8(0x60 , 0x76 , 0x11 );
		I2CM_WtReg8Data8(0x60 , 0x77 , 0x92 );
		I2CM_WtReg8Data8(0x60 , 0x78 , 0x21 );
		I2CM_WtReg8Data8(0x60 , 0x79 , 0xe1 );
		I2CM_WtReg8Data8(0x60 , 0x7a , 0x02 );
		I2CM_WtReg8Data8(0x60 , 0x7c , 0x05 );
		I2CM_WtReg8Data8(0x60 , 0x7d , 0x08 );
		I2CM_WtReg8Data8(0x60 , 0x7e , 0x08 );
		I2CM_WtReg8Data8(0x60 , 0x7f , 0x7c );
		I2CM_WtReg8Data8(0x60 , 0x80 , 0x58 );
		I2CM_WtReg8Data8(0x60 , 0x81 , 0x2a );
		I2CM_WtReg8Data8(0x60 , 0x82 , 0xc5 );
		I2CM_WtReg8Data8(0x60 , 0x83 , 0x46 );
		I2CM_WtReg8Data8(0x60 , 0x84 , 0x3a );
		I2CM_WtReg8Data8(0x60 , 0x85 , 0x54 );
		I2CM_WtReg8Data8(0x60 , 0x86 , 0x44 );
		I2CM_WtReg8Data8(0x60 , 0x87 , 0xf8 );
		I2CM_WtReg8Data8(0x60 , 0x88 , 0x08 );
		I2CM_WtReg8Data8(0x60 , 0x89 , 0x70 );
		I2CM_WtReg8Data8(0x60 , 0x8a , 0xf0 );
		I2CM_WtReg8Data8(0x60 , 0x8b , 0xf0 );
		I2CM_WtReg8Data8(0x60 , 0x90 , 0xe3 );
		I2CM_WtReg8Data8(0x60 , 0x93 , 0x10 );
		I2CM_WtReg8Data8(0x60 , 0x94 , 0x20 );
		I2CM_WtReg8Data8(0x60 , 0x95 , 0x10 );
		I2CM_WtReg8Data8(0x60 , 0x96 , 0x18 );


}
static void ov2643_setVGA_640x480_30FPS(void)
{
		MP_DEBUG1("## %s ##", __FUNCTION__);
	/*
	Use 800x600 to 640x480
	
	@@ SVGA(YUV) 30fps									   
	100 99 800 600										   
	100 98 0 0											   
	;													   
	;OV2643 setting Version History 					   
	;													   
	;													   
	;date 03/31/2009									   
	;--R1B 3rd release of OV2643 Rev1B(AA) setting based AB_V01. 
	;--Lower the PCLK for SVGA 30fps and CIF 30fps settings
	
	*/	
		
		I2CM_WtReg8Data8(	0x60, 0x12, 0x80);
		I2CM_WtReg8Data8(	0x60, 0xc3, 0x1f);
		I2CM_WtReg8Data8(	0x60, 0xc4, 0xff);
		I2CM_WtReg8Data8(	0x60, 0x3d, 0x48);
		I2CM_WtReg8Data8(	0x60, 0xdd, 0xa5);
		I2CM_WtReg8Data8(	0x60, 0x0e, 0xb8);
		I2CM_WtReg8Data8(	0x60, 0x10, 0x08);
		I2CM_WtReg8Data8(	0x60, 0x11, 0x00);
		I2CM_WtReg8Data8(	0x60, 0x0f, 0x14);
		I2CM_WtReg8Data8(	0x60, 0x20, 0x01);
		I2CM_WtReg8Data8(	0x60, 0x21, 0x98);
		I2CM_WtReg8Data8(	0x60, 0x22, 0x00);
		I2CM_WtReg8Data8(	0x60, 0x23, 0x06);
		I2CM_WtReg8Data8(	0x60, 0x24, 0x32);
		I2CM_WtReg8Data8(	0x60, 0x26, 0x25);
		I2CM_WtReg8Data8(	0x60, 0x27, 0x84);
		I2CM_WtReg8Data8(	0x60, 0x29, 0x04);
		I2CM_WtReg8Data8(	0x60, 0x2a, 0xce);
		I2CM_WtReg8Data8(	0x60, 0x2b, 0x02);
		I2CM_WtReg8Data8(	0x60, 0x2c, 0x8a);
		I2CM_WtReg8Data8(	0x60, 0x1d, 0x04);
		I2CM_WtReg8Data8(	0x60, 0x25, 0x04);
		I2CM_WtReg8Data8(	0x60, 0x27, 0x84);
		I2CM_WtReg8Data8(	0x60, 0x28, 0x40);
		I2CM_WtReg8Data8(	0x60, 0x12, 0x09);
		I2CM_WtReg8Data8(	0x60, 0x39, 0xd0);
		I2CM_WtReg8Data8(	0x60, 0xcd, 0x13);
		I2CM_WtReg8Data8(	0x60, 0x13, 0xff);
		I2CM_WtReg8Data8(	0x60, 0x14, 0xa7);
		I2CM_WtReg8Data8(	0x60, 0x15, 0x42);
		I2CM_WtReg8Data8(	0x60, 0x3c, 0xa4);
		I2CM_WtReg8Data8(	0x60, 0x18, 0x60);
		I2CM_WtReg8Data8(	0x60, 0x19, 0x50);
		I2CM_WtReg8Data8(	0x60, 0x1a, 0xe2);
		I2CM_WtReg8Data8(	0x60, 0x37, 0xe8);
		I2CM_WtReg8Data8(	0x60, 0x16, 0x90);
		I2CM_WtReg8Data8(	0x60, 0x43, 0x00);
		I2CM_WtReg8Data8(	0x60, 0x40, 0xfb);
		I2CM_WtReg8Data8(	0x60, 0xa9, 0x44);
		I2CM_WtReg8Data8(	0x60, 0x2f, 0xec);
		I2CM_WtReg8Data8(	0x60, 0x35, 0x10);
		I2CM_WtReg8Data8(	0x60, 0x36, 0x10);
		I2CM_WtReg8Data8(	0x60, 0x0c, 0x00);
		I2CM_WtReg8Data8(	0x60, 0x0d, 0x00);
		I2CM_WtReg8Data8(	0x60, 0xd0, 0x93);
		I2CM_WtReg8Data8(	0x60, 0xdc, 0x2b);
		I2CM_WtReg8Data8(	0x60, 0xd9, 0x41);
		I2CM_WtReg8Data8(	0x60, 0xd3, 0x02);
		I2CM_WtReg8Data8(	0x60, 0xde, 0x7c);
		I2CM_WtReg8Data8(	0x60, 0x3d, 0x08);
		I2CM_WtReg8Data8(	0x60, 0x0c, 0x00);
		I2CM_WtReg8Data8(	0x60, 0x18, 0x2c);
		I2CM_WtReg8Data8(	0x60, 0x19, 0x24);
		I2CM_WtReg8Data8(	0x60, 0x1a, 0x71);
		I2CM_WtReg8Data8(	0x60, 0x9b, 0x69);
		I2CM_WtReg8Data8(	0x60, 0x9c, 0x7d);
		I2CM_WtReg8Data8(	0x60, 0x9d, 0x7d);
		I2CM_WtReg8Data8(	0x60, 0x9e, 0x69);
		I2CM_WtReg8Data8(	0x60, 0x35, 0x04);
		I2CM_WtReg8Data8(	0x60, 0x36, 0x04);
		I2CM_WtReg8Data8(	0x60, 0x65, 0x12);
		I2CM_WtReg8Data8(	0x60, 0x66, 0x20);
		I2CM_WtReg8Data8(	0x60, 0x67, 0x39);
		I2CM_WtReg8Data8(	0x60, 0x68, 0x4e);
		I2CM_WtReg8Data8(	0x60, 0x69, 0x62);
		I2CM_WtReg8Data8(	0x60, 0x6a, 0x74);
		I2CM_WtReg8Data8(	0x60, 0x6b, 0x85);
		I2CM_WtReg8Data8(	0x60, 0x6c, 0x92);
		I2CM_WtReg8Data8(	0x60, 0x6d, 0x9e);
		I2CM_WtReg8Data8(	0x60, 0x6e, 0xb2);
		I2CM_WtReg8Data8(	0x60, 0x6f, 0xc0);
		I2CM_WtReg8Data8(	0x60, 0x70, 0xcc);
		I2CM_WtReg8Data8(	0x60, 0x71, 0xe0);
		I2CM_WtReg8Data8(	0x60, 0x72, 0xee);
		I2CM_WtReg8Data8(	0x60, 0x73, 0xf6);
		I2CM_WtReg8Data8(	0x60, 0x74, 0x11);
		I2CM_WtReg8Data8(	0x60, 0xab, 0x20);
		I2CM_WtReg8Data8(	0x60, 0xac, 0x5b);
		I2CM_WtReg8Data8(	0x60, 0xad, 0x05);
		I2CM_WtReg8Data8(	0x60, 0xae, 0x1b);
		I2CM_WtReg8Data8(	0x60, 0xaf, 0x76);
		I2CM_WtReg8Data8(	0x60, 0xb0, 0x90);
		I2CM_WtReg8Data8(	0x60, 0xb1, 0x90);
		I2CM_WtReg8Data8(	0x60, 0xb2, 0x8c);
		I2CM_WtReg8Data8(	0x60, 0xb3, 0x04);
		I2CM_WtReg8Data8(	0x60, 0xb4, 0x98);
		I2CM_WtReg8Data8(	0x60, 0x4c, 0x03);
		I2CM_WtReg8Data8(	0x60, 0x4d, 0x30);
		I2CM_WtReg8Data8(	0x60, 0x4e, 0x02);
		I2CM_WtReg8Data8(	0x60, 0x4f, 0x5c);
		I2CM_WtReg8Data8(	0x60, 0x50, 0x56);
		I2CM_WtReg8Data8(	0x60, 0x51, 0x00);
		I2CM_WtReg8Data8(	0x60, 0x52, 0x66);
		I2CM_WtReg8Data8(	0x60, 0x53, 0x03);
		I2CM_WtReg8Data8(	0x60, 0x54, 0x30);
		I2CM_WtReg8Data8(	0x60, 0x55, 0x02);
		I2CM_WtReg8Data8(	0x60, 0x56, 0x5c);
		I2CM_WtReg8Data8(	0x60, 0x57, 0x40);
		I2CM_WtReg8Data8(	0x60, 0x58, 0x00);
		I2CM_WtReg8Data8(	0x60, 0x59, 0x66);
		I2CM_WtReg8Data8(	0x60, 0x5a, 0x03);
		I2CM_WtReg8Data8(	0x60, 0x5b, 0x20);
		I2CM_WtReg8Data8(	0x60, 0x5c, 0x02);
		I2CM_WtReg8Data8(	0x60, 0x5d, 0x5c);
		I2CM_WtReg8Data8(	0x60, 0x5e, 0x3a);
		I2CM_WtReg8Data8(	0x60, 0x5f, 0x00);
		I2CM_WtReg8Data8(	0x60, 0x60, 0x66);
		I2CM_WtReg8Data8(	0x60, 0x41, 0x1f);
		I2CM_WtReg8Data8(	0x60, 0xb5, 0x01);
		I2CM_WtReg8Data8(	0x60, 0xb6, 0x02);
		I2CM_WtReg8Data8(	0x60, 0xb9, 0x40);
		I2CM_WtReg8Data8(	0x60, 0xba, 0x28);
		I2CM_WtReg8Data8(	0x60, 0xbf, 0x0c);
		I2CM_WtReg8Data8(	0x60, 0xc0, 0x3e);
		I2CM_WtReg8Data8(	0x60, 0xa3, 0x0a);
		I2CM_WtReg8Data8(	0x60, 0xa4, 0x0f);
		I2CM_WtReg8Data8(	0x60, 0xa5, 0x09);
		I2CM_WtReg8Data8(	0x60, 0xa6, 0x16);
		I2CM_WtReg8Data8(	0x60, 0x9f, 0x0a);
		I2CM_WtReg8Data8(	0x60, 0xa0, 0x0f);
		I2CM_WtReg8Data8(	0x60, 0xa7, 0x0a);
		I2CM_WtReg8Data8(	0x60, 0xa8, 0x0f);
		I2CM_WtReg8Data8(	0x60, 0xa1, 0x10);
		I2CM_WtReg8Data8(	0x60, 0xa2, 0x04);
		I2CM_WtReg8Data8(	0x60, 0xa9, 0x04);
		I2CM_WtReg8Data8(	0x60, 0xaa, 0xa6);
		I2CM_WtReg8Data8(	0x60, 0x75, 0x6a);
		I2CM_WtReg8Data8(	0x60, 0x76, 0x11);
		I2CM_WtReg8Data8(	0x60, 0x77, 0x92);
		I2CM_WtReg8Data8(	0x60, 0x78, 0x21);
		I2CM_WtReg8Data8(	0x60, 0x79, 0xe1);
		I2CM_WtReg8Data8(	0x60, 0x7a, 0x02);
		I2CM_WtReg8Data8(	0x60, 0x7c, 0x05);
		I2CM_WtReg8Data8(	0x60, 0x7d, 0x08);
		I2CM_WtReg8Data8(	0x60, 0x7e, 0x08);
		I2CM_WtReg8Data8(	0x60, 0x7f, 0x7c);
		I2CM_WtReg8Data8(	0x60, 0x80, 0x58);
		I2CM_WtReg8Data8(	0x60, 0x81, 0x2a);
		I2CM_WtReg8Data8(	0x60, 0x82, 0xc5);
		I2CM_WtReg8Data8(	0x60, 0x83, 0x46);
		I2CM_WtReg8Data8(	0x60, 0x84, 0x3a);
		I2CM_WtReg8Data8(	0x60, 0x85, 0x54);
		I2CM_WtReg8Data8(	0x60, 0x86, 0x44);
		I2CM_WtReg8Data8(	0x60, 0x87, 0xf8);
		I2CM_WtReg8Data8(	0x60, 0x88, 0x08);
		I2CM_WtReg8Data8(	0x60, 0x89, 0x70);
		I2CM_WtReg8Data8(	0x60, 0x8a, 0xf0);
		I2CM_WtReg8Data8(	0x60, 0x8b, 0xf0);
		I2CM_WtReg8Data8(	0x60, 0x90, 0xe3);
		I2CM_WtReg8Data8(	0x60, 0x93, 0x10);
		I2CM_WtReg8Data8(	0x60, 0x94, 0x20);
		I2CM_WtReg8Data8(	0x60, 0x95, 0x10);
		I2CM_WtReg8Data8(	0x60, 0x96, 0x18);

}
static void ov2643_setVGA_640x480(void)
{
	/*for capture preview (Initial setting)*/
	MP_DEBUG1("## %s ##", __FUNCTION__);		

I2CM_WtReg8Data8(0x60 , 0x12 , 0x80 );
I2CM_WtReg8Data8(0x60 , 0xc3 , 0x1f );
I2CM_WtReg8Data8(0x60 , 0xc4 , 0xff );
I2CM_WtReg8Data8(0x60 , 0x3d , 0x48 );
I2CM_WtReg8Data8(0x60 , 0xdd , 0xa5 );
I2CM_WtReg8Data8(0x60 , 0x0e , 0xb8 );
I2CM_WtReg8Data8(0x60 , 0x10 , 0x08 );
I2CM_WtReg8Data8(0x60 , 0x11 , 0x00 );
I2CM_WtReg8Data8(0x60 , 0x0f , 0x14 );
I2CM_WtReg8Data8(0x60 , 0x20 , 0x01 );
I2CM_WtReg8Data8(0x60 , 0x21 , 0x98 );
I2CM_WtReg8Data8(0x60 , 0x22 , 0x00 );
I2CM_WtReg8Data8(0x60 , 0x23 , 0x06 );
I2CM_WtReg8Data8(0x60 , 0x24 , 0x32 );
I2CM_WtReg8Data8(0x60 , 0x26 , 0x25 );
I2CM_WtReg8Data8(0x60 , 0x27 , 0x84 );
I2CM_WtReg8Data8(0x60 , 0x29 , 0x04 );
I2CM_WtReg8Data8(0x60 , 0x2a , 0xce );
I2CM_WtReg8Data8(0x60 , 0x2b , 0x02 );
I2CM_WtReg8Data8(0x60 , 0x2c , 0x8a );
I2CM_WtReg8Data8(0x60 , 0x1d , 0x04 );
I2CM_WtReg8Data8(0x60 , 0x25 , 0x04 );
I2CM_WtReg8Data8(0x60 , 0x27 , 0x84 );
I2CM_WtReg8Data8(0x60 , 0x28 , 0x40 );
I2CM_WtReg8Data8(0x60 , 0x12 , 0x09 );
I2CM_WtReg8Data8(0x60 , 0x39 , 0xd0 );
I2CM_WtReg8Data8(0x60 , 0xcd , 0x13 );
I2CM_WtReg8Data8(0x60 , 0x13 , 0xff );
I2CM_WtReg8Data8(0x60 , 0x14 , 0xa7 );
I2CM_WtReg8Data8(0x60 , 0x15 , 0x42 );
I2CM_WtReg8Data8(0x60 , 0x3c , 0xa4 );
I2CM_WtReg8Data8(0x60 , 0x18 , 0x60 );
I2CM_WtReg8Data8(0x60 , 0x19 , 0x50 );
I2CM_WtReg8Data8(0x60 , 0x1a , 0xe2 );
I2CM_WtReg8Data8(0x60 , 0x37 , 0xe8 );
I2CM_WtReg8Data8(0x60 , 0x16 , 0x90 );
I2CM_WtReg8Data8(0x60 , 0x43 , 0x00 );
I2CM_WtReg8Data8(0x60 , 0x40 , 0xfb );
I2CM_WtReg8Data8(0x60 , 0xa9 , 0x44 );
I2CM_WtReg8Data8(0x60 , 0x2f , 0xec );
I2CM_WtReg8Data8(0x60 , 0x35 , 0x10 );
I2CM_WtReg8Data8(0x60 , 0x36 , 0x10 );
I2CM_WtReg8Data8(0x60 , 0x0c , 0x00 );
I2CM_WtReg8Data8(0x60 , 0x0d , 0x00 );
I2CM_WtReg8Data8(0x60 , 0xd0 , 0x93 );
I2CM_WtReg8Data8(0x60 , 0xdc , 0x2b );
I2CM_WtReg8Data8(0x60 , 0xd9 , 0x41 );
I2CM_WtReg8Data8(0x60 , 0xd3 , 0x02 );
I2CM_WtReg8Data8(0x60 , 0xde , 0x7c );
I2CM_WtReg8Data8(0x60 , 0x3d , 0x08 );
I2CM_WtReg8Data8(0x60 , 0x0c , 0x00 );
I2CM_WtReg8Data8(0x60 , 0x18 , 0x2c );
I2CM_WtReg8Data8(0x60 , 0x19 , 0x24 );
I2CM_WtReg8Data8(0x60 , 0x1a , 0x71 );
I2CM_WtReg8Data8(0x60 , 0x9b , 0x69 );
I2CM_WtReg8Data8(0x60 , 0x9c , 0x7d );
I2CM_WtReg8Data8(0x60 , 0x9d , 0x7d );
I2CM_WtReg8Data8(0x60 , 0x9e , 0x69 );
I2CM_WtReg8Data8(0x60 , 0x35 , 0x04 );
I2CM_WtReg8Data8(0x60 , 0x36 , 0x04 );
I2CM_WtReg8Data8(0x60 , 0x65 , 0x12 );
I2CM_WtReg8Data8(0x60 , 0x66 , 0x20 );
I2CM_WtReg8Data8(0x60 , 0x67 , 0x39 );
I2CM_WtReg8Data8(0x60 , 0x68 , 0x4e );
I2CM_WtReg8Data8(0x60 , 0x69 , 0x62 );
I2CM_WtReg8Data8(0x60 , 0x6a , 0x74 );
I2CM_WtReg8Data8(0x60 , 0x6b , 0x85 );
I2CM_WtReg8Data8(0x60 , 0x6c , 0x92 );
I2CM_WtReg8Data8(0x60 , 0x6d , 0x9e );
I2CM_WtReg8Data8(0x60 , 0x6e , 0xb2 );
I2CM_WtReg8Data8(0x60 , 0x6f , 0xc0 );
I2CM_WtReg8Data8(0x60 , 0x70 , 0xcc );
I2CM_WtReg8Data8(0x60 , 0x71 , 0xe0 );
I2CM_WtReg8Data8(0x60 , 0x72 , 0xee );
I2CM_WtReg8Data8(0x60 , 0x73 , 0xf6 );
I2CM_WtReg8Data8(0x60 , 0x74 , 0x11 );
I2CM_WtReg8Data8(0x60 , 0xab , 0x20 );
I2CM_WtReg8Data8(0x60 , 0xac , 0x5b );
I2CM_WtReg8Data8(0x60 , 0xad , 0x05 );
I2CM_WtReg8Data8(0x60 , 0xae , 0x1b );
I2CM_WtReg8Data8(0x60 , 0xaf , 0x76 );
I2CM_WtReg8Data8(0x60 , 0xb0 , 0x90 );
I2CM_WtReg8Data8(0x60 , 0xb1 , 0x90 );
I2CM_WtReg8Data8(0x60 , 0xb2 , 0x8c );
I2CM_WtReg8Data8(0x60 , 0xb3 , 0x04 );
I2CM_WtReg8Data8(0x60 , 0xb4 , 0x98 );
I2CM_WtReg8Data8(0x60 , 0x4c , 0x03 );
I2CM_WtReg8Data8(0x60 , 0x4d , 0x30 );
I2CM_WtReg8Data8(0x60 , 0x4e , 0x02 );
I2CM_WtReg8Data8(0x60 , 0x4f , 0x5c );
I2CM_WtReg8Data8(0x60 , 0x50 , 0x56 );
I2CM_WtReg8Data8(0x60 , 0x51 , 0x00 );
I2CM_WtReg8Data8(0x60 , 0x52 , 0x66 );
I2CM_WtReg8Data8(0x60 , 0x53 , 0x03 );
I2CM_WtReg8Data8(0x60 , 0x54 , 0x30 );
I2CM_WtReg8Data8(0x60 , 0x55 , 0x02 );
I2CM_WtReg8Data8(0x60 , 0x56 , 0x5c );
I2CM_WtReg8Data8(0x60 , 0x57 , 0x40 );
I2CM_WtReg8Data8(0x60 , 0x58 , 0x00 );
I2CM_WtReg8Data8(0x60 , 0x59 , 0x66 );
I2CM_WtReg8Data8(0x60 , 0x5a , 0x03 );
I2CM_WtReg8Data8(0x60 , 0x5b , 0x20 );
I2CM_WtReg8Data8(0x60 , 0x5c , 0x02 );
I2CM_WtReg8Data8(0x60 , 0x5d , 0x5c );
I2CM_WtReg8Data8(0x60 , 0x5e , 0x3a );
I2CM_WtReg8Data8(0x60 , 0x5f , 0x00 );
I2CM_WtReg8Data8(0x60 , 0x60 , 0x66 );
I2CM_WtReg8Data8(0x60 , 0x41 , 0x1f );
I2CM_WtReg8Data8(0x60 , 0xb5 , 0x01 );
I2CM_WtReg8Data8(0x60 , 0xb6 , 0x02 );
I2CM_WtReg8Data8(0x60 , 0xb9 , 0x40 );
I2CM_WtReg8Data8(0x60 , 0xba , 0x28 );
I2CM_WtReg8Data8(0x60 , 0xbf , 0x0c );
I2CM_WtReg8Data8(0x60 , 0xc0 , 0x3e );
I2CM_WtReg8Data8(0x60 , 0xa3 , 0x0a );
I2CM_WtReg8Data8(0x60 , 0xa4 , 0x0f );
I2CM_WtReg8Data8(0x60 , 0xa5 , 0x09 );
I2CM_WtReg8Data8(0x60 , 0xa6 , 0x16 );
I2CM_WtReg8Data8(0x60 , 0x9f , 0x0a );
I2CM_WtReg8Data8(0x60 , 0xa0 , 0x0f );
I2CM_WtReg8Data8(0x60 , 0xa7 , 0x0a );
I2CM_WtReg8Data8(0x60 , 0xa8 , 0x0f );
I2CM_WtReg8Data8(0x60 , 0xa1 , 0x10 );
I2CM_WtReg8Data8(0x60 , 0xa2 , 0x04 );
I2CM_WtReg8Data8(0x60 , 0xa9 , 0x04 );
I2CM_WtReg8Data8(0x60 , 0xaa , 0xa6 );
I2CM_WtReg8Data8(0x60 , 0x75 , 0x6a );
I2CM_WtReg8Data8(0x60 , 0x76 , 0x11 );
I2CM_WtReg8Data8(0x60 , 0x77 , 0x92 );
I2CM_WtReg8Data8(0x60 , 0x78 , 0x21 );
I2CM_WtReg8Data8(0x60 , 0x79 , 0xe1 );
I2CM_WtReg8Data8(0x60 , 0x7a , 0x02 );
I2CM_WtReg8Data8(0x60 , 0x7c , 0x05 );
I2CM_WtReg8Data8(0x60 , 0x7d , 0x08 );
I2CM_WtReg8Data8(0x60 , 0x7e , 0x08 );
I2CM_WtReg8Data8(0x60 , 0x7f , 0x7c );
I2CM_WtReg8Data8(0x60 , 0x80 , 0x58 );
I2CM_WtReg8Data8(0x60 , 0x81 , 0x2a );
I2CM_WtReg8Data8(0x60 , 0x82 , 0xc5 );
I2CM_WtReg8Data8(0x60 , 0x83 , 0x46 );
I2CM_WtReg8Data8(0x60 , 0x84 , 0x3a );
I2CM_WtReg8Data8(0x60 , 0x85 , 0x54 );
I2CM_WtReg8Data8(0x60 , 0x86 , 0x44 );
I2CM_WtReg8Data8(0x60 , 0x87 , 0xf8 );
I2CM_WtReg8Data8(0x60 , 0x88 , 0x08 );
I2CM_WtReg8Data8(0x60 , 0x89 , 0x70 );
I2CM_WtReg8Data8(0x60 , 0x8a , 0xf0 );
I2CM_WtReg8Data8(0x60 , 0x8b , 0xf0 );
I2CM_WtReg8Data8(0x60 , 0x90 , 0xe3 );
I2CM_WtReg8Data8(0x60 , 0x93 , 0x10 );
I2CM_WtReg8Data8(0x60 , 0x94 , 0x20 );
I2CM_WtReg8Data8(0x60 , 0x95 , 0x10 );
I2CM_WtReg8Data8(0x60 , 0x96 , 0x18 );

	
}

static void OV2643_setQXGA_2048x1536(void)
{
	MP_ALERT("## %s ##", __FUNCTION__);		
											
	MP_ALERT("%s: not ready", __FUNCTION__);
	__asm("break 100");                     
}


static void ov2643_set_352x240_30FPS(void)
{

/*
@@ CIF400x300 (YUV) 30fps 
100 99 400 300 
100 98 0 0 
; 
;OV2643 setting Version History 
; 
; 
;date 03/31/2009 
;--R1B 3rd release of OV2643 Rev1B(AA) setting based AB_V01.
;--Lower the PCLK for SVGA 30fps and CIF 30fps settings 

*/	
	MP_DEBUG1("## %s ##", __FUNCTION__);		
											
	I2CM_WtReg8Data8(0x60 , 0x12 , 0x80 );
	I2CM_WtReg8Data8(0x60 , 0xc3 , 0x1f ); 
	I2CM_WtReg8Data8(0x60 , 0xc4 , 0xff );	
	I2CM_WtReg8Data8(0x60 , 0x3d , 0x48 );
	I2CM_WtReg8Data8(0x60 , 0xdd , 0xa5 ); 
	I2CM_WtReg8Data8(0x60 , 0x0e , 0xb8 );
	I2CM_WtReg8Data8(0x60 , 0x10 , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x11 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x0f , 0x14 );
	I2CM_WtReg8Data8(0x60 , 0x20 , 0x01 );
	I2CM_WtReg8Data8(0x60 , 0x21 , 0x98 );
	I2CM_WtReg8Data8(0x60 , 0x22 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x23 , 0x06 );
	I2CM_WtReg8Data8(0x60 , 0x24 , 0x32 );
	I2CM_WtReg8Data8(0x60 , 0x26 , 0x25 );
	I2CM_WtReg8Data8(0x60 , 0x27 , 0x84 );
	I2CM_WtReg8Data8(0x60 , 0x29 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x2a , 0xce );
	I2CM_WtReg8Data8(0x60 , 0x2b , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x2c , 0x8a );
	I2CM_WtReg8Data8(0x60 , 0x1d , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x25 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x27 , 0x84 );
	I2CM_WtReg8Data8(0x60 , 0x28 , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0x12 , 0x0a );
	I2CM_WtReg8Data8(0x60 , 0x39 , 0xd0 );
	I2CM_WtReg8Data8(0x60 , 0xcd , 0x13 );
	I2CM_WtReg8Data8(0x60 , 0x13 , 0xff );
	I2CM_WtReg8Data8(0x60 , 0x14 , 0xa7 );
	I2CM_WtReg8Data8(0x60 , 0x15 , 0x42 );
	I2CM_WtReg8Data8(0x60 , 0x3c , 0xa4 );
	I2CM_WtReg8Data8(0x60 , 0x18 , 0x60 );
	I2CM_WtReg8Data8(0x60 , 0x19 , 0x50 );
	I2CM_WtReg8Data8(0x60 , 0x1a , 0xe2 );
	I2CM_WtReg8Data8(0x60 , 0x37 , 0xe8 );
	I2CM_WtReg8Data8(0x60 , 0x16 , 0x90 );
	I2CM_WtReg8Data8(0x60 , 0x43 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x40 , 0xfb );
	I2CM_WtReg8Data8(0x60 , 0xa9 , 0x44 );
	I2CM_WtReg8Data8(0x60 , 0x2f , 0xec );
	I2CM_WtReg8Data8(0x60 , 0x35 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x36 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x0c , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x0d , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0xd0 , 0x93 );
	I2CM_WtReg8Data8(0x60 , 0xdc , 0x2b );
	I2CM_WtReg8Data8(0x60 , 0xd9 , 0x41 );
	I2CM_WtReg8Data8(0x60 , 0xd3 , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0xde , 0x7c );
	I2CM_WtReg8Data8(0x60 , 0x3d , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x0c , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x18 , 0x2c );
	I2CM_WtReg8Data8(0x60 , 0x19 , 0x24 );
	I2CM_WtReg8Data8(0x60 , 0x1a , 0x71 );
	I2CM_WtReg8Data8(0x60 , 0x9b , 0x69 );
	I2CM_WtReg8Data8(0x60 , 0x9c , 0x7d );
	I2CM_WtReg8Data8(0x60 , 0x9d , 0x7d );
	I2CM_WtReg8Data8(0x60 , 0x9e , 0x69 );
	I2CM_WtReg8Data8(0x60 , 0x35 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x36 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x65 , 0x12 );
	I2CM_WtReg8Data8(0x60 , 0x66 , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0x67 , 0x39 );
	I2CM_WtReg8Data8(0x60 , 0x68 , 0x4e );
	I2CM_WtReg8Data8(0x60 , 0x69 , 0x62 );
	I2CM_WtReg8Data8(0x60 , 0x6a , 0x74 );
	I2CM_WtReg8Data8(0x60 , 0x6b , 0x85 );
	I2CM_WtReg8Data8(0x60 , 0x6c , 0x92 );
	I2CM_WtReg8Data8(0x60 , 0x6d , 0x9e );
	I2CM_WtReg8Data8(0x60 , 0x6e , 0xb2 );
	I2CM_WtReg8Data8(0x60 , 0x6f , 0xc0 );
	I2CM_WtReg8Data8(0x60 , 0x70 , 0xcc );
	I2CM_WtReg8Data8(0x60 , 0x71 , 0xe0 );
	I2CM_WtReg8Data8(0x60 , 0x72 , 0xee );
	I2CM_WtReg8Data8(0x60 , 0x73 , 0xf6 );
	I2CM_WtReg8Data8(0x60 , 0x74 , 0x11 );
	I2CM_WtReg8Data8(0x60 , 0xab , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0xac , 0x5b );
	I2CM_WtReg8Data8(0x60 , 0xad , 0x05 );
	I2CM_WtReg8Data8(0x60 , 0xae , 0x1b );
	I2CM_WtReg8Data8(0x60 , 0xaf , 0x76 );
	I2CM_WtReg8Data8(0x60 , 0xb0 , 0x90 );
	I2CM_WtReg8Data8(0x60 , 0xb1 , 0x90 );
	I2CM_WtReg8Data8(0x60 , 0xb2 , 0x8c );
	I2CM_WtReg8Data8(0x60 , 0xb3 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0xb4 , 0x98 );
	I2CM_WtReg8Data8(0x60 , 0x4c , 0x03 );
	I2CM_WtReg8Data8(0x60 , 0x4d , 0x30 );
	I2CM_WtReg8Data8(0x60 , 0x4e , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x4f , 0x5c );
	I2CM_WtReg8Data8(0x60 , 0x50 , 0x56 );
	I2CM_WtReg8Data8(0x60 , 0x51 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x52 , 0x66 );
	I2CM_WtReg8Data8(0x60 , 0x53 , 0x03 );
	I2CM_WtReg8Data8(0x60 , 0x54 , 0x30 );
	I2CM_WtReg8Data8(0x60 , 0x55 , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x56 , 0x5c );
	I2CM_WtReg8Data8(0x60 , 0x57 , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0x58 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x59 , 0x66 );
	I2CM_WtReg8Data8(0x60 , 0x5a , 0x03 );
	I2CM_WtReg8Data8(0x60 , 0x5b , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0x5c , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x5d , 0x5c );
	I2CM_WtReg8Data8(0x60 , 0x5e , 0x3a );
	I2CM_WtReg8Data8(0x60 , 0x5f , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x60 , 0x66 );
	I2CM_WtReg8Data8(0x60 , 0x41 , 0x1f );
	I2CM_WtReg8Data8(0x60 , 0xb5 , 0x01 );
	I2CM_WtReg8Data8(0x60 , 0xb6 , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0xb9 , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0xba , 0x28 );
	I2CM_WtReg8Data8(0x60 , 0xbf , 0x0c );
	I2CM_WtReg8Data8(0x60 , 0xc0 , 0x3e );
	I2CM_WtReg8Data8(0x60 , 0xa3 , 0x0a );
	I2CM_WtReg8Data8(0x60 , 0xa4 , 0x0f );
	I2CM_WtReg8Data8(0x60 , 0xa5 , 0x09 );
	I2CM_WtReg8Data8(0x60 , 0xa6 , 0x16 );
	I2CM_WtReg8Data8(0x60 , 0x9f , 0x0a );
	I2CM_WtReg8Data8(0x60 , 0xa0 , 0x0f );
	I2CM_WtReg8Data8(0x60 , 0xa7 , 0x0a );
	I2CM_WtReg8Data8(0x60 , 0xa8 , 0x0f );
	I2CM_WtReg8Data8(0x60 , 0xa1 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0xa2 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0xa9 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0xaa , 0xa6 );
	I2CM_WtReg8Data8(0x60 , 0x75 , 0x6a );
	I2CM_WtReg8Data8(0x60 , 0x76 , 0x11 );
	I2CM_WtReg8Data8(0x60 , 0x77 , 0x92 );
	I2CM_WtReg8Data8(0x60 , 0x78 , 0x21 );
	I2CM_WtReg8Data8(0x60 , 0x79 , 0xe1 );
	I2CM_WtReg8Data8(0x60 , 0x7a , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x7c , 0x05 );
	I2CM_WtReg8Data8(0x60 , 0x7d , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x7e , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x7f , 0x7c );
	I2CM_WtReg8Data8(0x60 , 0x80 , 0x58 );
	I2CM_WtReg8Data8(0x60 , 0x81 , 0x2a );
	I2CM_WtReg8Data8(0x60 , 0x82 , 0xc5 );
	I2CM_WtReg8Data8(0x60 , 0x83 , 0x46 );
	I2CM_WtReg8Data8(0x60 , 0x84 , 0x3a );
	I2CM_WtReg8Data8(0x60 , 0x85 , 0x54 );
	I2CM_WtReg8Data8(0x60 , 0x86 , 0x44 );
	I2CM_WtReg8Data8(0x60 , 0x87 , 0xf8 );
	I2CM_WtReg8Data8(0x60 , 0x88 , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x89 , 0x70 );
	I2CM_WtReg8Data8(0x60 , 0x8a , 0xf0 );
	I2CM_WtReg8Data8(0x60 , 0x8b , 0xf0 );
	I2CM_WtReg8Data8(0x60 , 0x90 , 0xe3 );
	I2CM_WtReg8Data8(0x60 , 0x93 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x94 , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0x95 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x96 , 0x18 );
}


static void ov2643_set_720P_1280x720(void)
{
	/*
	@@ HD720P(YUV) 24fps										  
	100 99 1280 720 											  
	100 98 0 0													  
	;															  
	;OV2643 setting Version History 							  
	;															  
	;															  
	;date 03/31/2009											  
	;--R1B 3rd release of OV2643 Rev1B(AA) setting based AB_V01.  
	;--Lower the PCLK for SVGA 30fps and CIF 30fps settings 	  

	*/
	
	MP_DEBUG1("## %s ##", __FUNCTION__);
	I2CM_WtReg8Data8(0x60 , 0x12 , 0x80 );
	I2CM_WtReg8Data8(0x60 , 0xc3 , 0x1f );
	I2CM_WtReg8Data8(0x60 , 0xc4 , 0xff );
	I2CM_WtReg8Data8(0x60 , 0x3d , 0x48 );
	I2CM_WtReg8Data8(0x60 , 0xdd , 0xa5 );
	I2CM_WtReg8Data8(0x60 , 0x0e , 0xb4 );
	I2CM_WtReg8Data8(0x60 , 0x10 , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x11 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x0f , 0x14 );
	I2CM_WtReg8Data8(0x60 , 0x20 , 0x01 );
	I2CM_WtReg8Data8(0x60 , 0x21 , 0x25 );
	I2CM_WtReg8Data8(0x60 , 0x22 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x23 , 0x0c );
	I2CM_WtReg8Data8(0x60 , 0x24 , 0x50 );
	I2CM_WtReg8Data8(0x60 , 0x26 , 0x2d );
	I2CM_WtReg8Data8(0x60 , 0x27 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x29 , 0x06 );
	I2CM_WtReg8Data8(0x60 , 0x2a , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0x2b , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x2c , 0xee );
	I2CM_WtReg8Data8(0x60 , 0x1d , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x25 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x27 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x28 , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0x12 , 0x48 );
	I2CM_WtReg8Data8(0x60 , 0x39 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0xcd , 0x12 );
	I2CM_WtReg8Data8(0x60 , 0x13 , 0xff );
	I2CM_WtReg8Data8(0x60 , 0x14 , 0xa7 );
	I2CM_WtReg8Data8(0x60 , 0x15 , 0x42 );
	I2CM_WtReg8Data8(0x60 , 0x3c , 0xa4 );
	I2CM_WtReg8Data8(0x60 , 0x18 , 0x60 );
	I2CM_WtReg8Data8(0x60 , 0x19 , 0x50 );
	I2CM_WtReg8Data8(0x60 , 0x1a , 0xe2 );
	I2CM_WtReg8Data8(0x60 , 0x37 , 0xe8 );
	I2CM_WtReg8Data8(0x60 , 0x16 , 0x90 );
	I2CM_WtReg8Data8(0x60 , 0x43 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x40 , 0xfb );
	I2CM_WtReg8Data8(0x60 , 0xa9 , 0x44 );
	I2CM_WtReg8Data8(0x60 , 0x2f , 0xec );
	I2CM_WtReg8Data8(0x60 , 0x35 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x36 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x0c , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x0d , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0xd0 , 0x93 );
	I2CM_WtReg8Data8(0x60 , 0xdc , 0x2b );
	I2CM_WtReg8Data8(0x60 , 0xd9 , 0x41 );
	I2CM_WtReg8Data8(0x60 , 0xd3 , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x3d , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x0c , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x18 , 0x2c );
	I2CM_WtReg8Data8(0x60 , 0x19 , 0x24 );
	I2CM_WtReg8Data8(0x60 , 0x1a , 0x71 );
	I2CM_WtReg8Data8(0x60 , 0x9b , 0x69 );
	I2CM_WtReg8Data8(0x60 , 0x9c , 0x7d );
	I2CM_WtReg8Data8(0x60 , 0x9d , 0x7d );
	I2CM_WtReg8Data8(0x60 , 0x9e , 0x69 );
	I2CM_WtReg8Data8(0x60 , 0x35 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x36 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x65 , 0x12 );
	I2CM_WtReg8Data8(0x60 , 0x66 , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0x67 , 0x39 );
	I2CM_WtReg8Data8(0x60 , 0x68 , 0x4e );
	I2CM_WtReg8Data8(0x60 , 0x69 , 0x62 );
	I2CM_WtReg8Data8(0x60 , 0x6a , 0x74 );
	I2CM_WtReg8Data8(0x60 , 0x6b , 0x85 );
	I2CM_WtReg8Data8(0x60 , 0x6c , 0x92 );
	I2CM_WtReg8Data8(0x60 , 0x6d , 0x9e );
	I2CM_WtReg8Data8(0x60 , 0x6e , 0xb2 );
	I2CM_WtReg8Data8(0x60 , 0x6f , 0xc0 );
	I2CM_WtReg8Data8(0x60 , 0x70 , 0xcc );
	I2CM_WtReg8Data8(0x60 , 0x71 , 0xe0 );
	I2CM_WtReg8Data8(0x60 , 0x72 , 0xee );
	I2CM_WtReg8Data8(0x60 , 0x73 , 0xf6 );
	I2CM_WtReg8Data8(0x60 , 0x74 , 0x11 );
	I2CM_WtReg8Data8(0x60 , 0xab , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0xac , 0x5b );
	I2CM_WtReg8Data8(0x60 , 0xad , 0x05 );
	I2CM_WtReg8Data8(0x60 , 0xae , 0x1b );
	I2CM_WtReg8Data8(0x60 , 0xaf , 0x76 );
	I2CM_WtReg8Data8(0x60 , 0xb0 , 0x90 );
	I2CM_WtReg8Data8(0x60 , 0xb1 , 0x90 );
	I2CM_WtReg8Data8(0x60 , 0xb2 , 0x8c );
	I2CM_WtReg8Data8(0x60 , 0xb3 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0xb4 , 0x98 );
	I2CM_WtReg8Data8(0x60 , 0x4c , 0x03 );
	I2CM_WtReg8Data8(0x60 , 0x4d , 0x30 );
	I2CM_WtReg8Data8(0x60 , 0x4e , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x4f , 0x5c );
	I2CM_WtReg8Data8(0x60 , 0x50 , 0x56 );
	I2CM_WtReg8Data8(0x60 , 0x51 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x52 , 0x66 );
	I2CM_WtReg8Data8(0x60 , 0x53 , 0x03 );
	I2CM_WtReg8Data8(0x60 , 0x54 , 0x30 );
	I2CM_WtReg8Data8(0x60 , 0x55 , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x56 , 0x5c );
	I2CM_WtReg8Data8(0x60 , 0x57 , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0x58 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x59 , 0x66 );
	I2CM_WtReg8Data8(0x60 , 0x5a , 0x03 );
	I2CM_WtReg8Data8(0x60 , 0x5b , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0x5c , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x5d , 0x5c );
	I2CM_WtReg8Data8(0x60 , 0x5e , 0x3a );
	I2CM_WtReg8Data8(0x60 , 0x5f , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x60 , 0x66 );
	I2CM_WtReg8Data8(0x60 , 0x41 , 0x1f );
	I2CM_WtReg8Data8(0x60 , 0xb5 , 0x01 );
	I2CM_WtReg8Data8(0x60 , 0xb6 , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0xb9 , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0xba , 0x28 );
	I2CM_WtReg8Data8(0x60 , 0xbf , 0x0c );
	I2CM_WtReg8Data8(0x60 , 0xc0 , 0x3e );
	I2CM_WtReg8Data8(0x60 , 0xa3 , 0x0a );
	I2CM_WtReg8Data8(0x60 , 0xa4 , 0x0f );
	I2CM_WtReg8Data8(0x60 , 0xa5 , 0x09 );
	I2CM_WtReg8Data8(0x60 , 0xa6 , 0x16 );
	I2CM_WtReg8Data8(0x60 , 0x9f , 0x0a );
	I2CM_WtReg8Data8(0x60 , 0xa0 , 0x0f );
	I2CM_WtReg8Data8(0x60 , 0xa7 , 0x0a );
	I2CM_WtReg8Data8(0x60 , 0xa8 , 0x0f );
	I2CM_WtReg8Data8(0x60 , 0xa1 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0xa2 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0xa9 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0xaa , 0xa6 );
	I2CM_WtReg8Data8(0x60 , 0x75 , 0x6a );
	I2CM_WtReg8Data8(0x60 , 0x76 , 0x11 );
	I2CM_WtReg8Data8(0x60 , 0x77 , 0x92 );
	I2CM_WtReg8Data8(0x60 , 0x78 , 0x21 );
	I2CM_WtReg8Data8(0x60 , 0x79 , 0xe1 );
	I2CM_WtReg8Data8(0x60 , 0x7a , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x7c , 0x05 );
	I2CM_WtReg8Data8(0x60 , 0x7d , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x7e , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x7f , 0x7c );
	I2CM_WtReg8Data8(0x60 , 0x80 , 0x58 );
	I2CM_WtReg8Data8(0x60 , 0x81 , 0x2a );
	I2CM_WtReg8Data8(0x60 , 0x82 , 0xc5 );
	I2CM_WtReg8Data8(0x60 , 0x83 , 0x46 );
	I2CM_WtReg8Data8(0x60 , 0x84 , 0x3a );
	I2CM_WtReg8Data8(0x60 , 0x85 , 0x54 );
	I2CM_WtReg8Data8(0x60 , 0x86 , 0x44 );
	I2CM_WtReg8Data8(0x60 , 0x87 , 0xf8 );
	I2CM_WtReg8Data8(0x60 , 0x88 , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x89 , 0x70 );
	I2CM_WtReg8Data8(0x60 , 0x8a , 0xf0 );
	I2CM_WtReg8Data8(0x60 , 0x8b , 0xf0 );
	I2CM_WtReg8Data8(0x60 , 0x90 , 0xe3 );
	I2CM_WtReg8Data8(0x60 , 0x93 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x94 , 0x20 );
	I2CM_WtReg8Data8(0x60 , 0x95 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0x96 , 0x18 );
	I2CM_WtReg8Data8(0x60 , 0x0E , 0xB6 );

}


static void ov2643_set_720x480_30FPS(void)
{
	MP_DEBUG1("## %s ##", __FUNCTION__);
/*
Use 800x600 to 720x480

@@ SVGA(YUV) 30fps                                     
100 99 800 600                                         
100 98 0 0                                             
;                                                      
;OV2643 setting Version History                        
;                                                      
;                                                      
;date 03/31/2009                                       
;--R1B 3rd release of OV2643 Rev1B(AA) setting based AB_V01. 
;--Lower the PCLK for SVGA 30fps and CIF 30fps settings

*/  
	
	I2CM_WtReg8Data8(	0x60, 0x12, 0x80);
	I2CM_WtReg8Data8(	0x60, 0xc3, 0x1f);
	I2CM_WtReg8Data8(	0x60, 0xc4, 0xff);
	I2CM_WtReg8Data8(	0x60, 0x3d, 0x48);
	I2CM_WtReg8Data8(	0x60, 0xdd, 0xa5);
	I2CM_WtReg8Data8(	0x60, 0x0e, 0xb8);
	I2CM_WtReg8Data8(	0x60, 0x10, 0x08);
	I2CM_WtReg8Data8(	0x60, 0x11, 0x00);
	I2CM_WtReg8Data8(	0x60, 0x0f, 0x14);
	I2CM_WtReg8Data8(	0x60, 0x20, 0x01);
	I2CM_WtReg8Data8(	0x60, 0x21, 0x98);
	I2CM_WtReg8Data8(	0x60, 0x22, 0x00);
	I2CM_WtReg8Data8(	0x60, 0x23, 0x06);
	I2CM_WtReg8Data8(	0x60, 0x24, 0x32);
	I2CM_WtReg8Data8(	0x60, 0x26, 0x25);
	I2CM_WtReg8Data8(	0x60, 0x27, 0x84);
	I2CM_WtReg8Data8(	0x60, 0x29, 0x04);
	I2CM_WtReg8Data8(	0x60, 0x2a, 0xce);
	I2CM_WtReg8Data8(	0x60, 0x2b, 0x02);
	I2CM_WtReg8Data8(	0x60, 0x2c, 0x8a);
	I2CM_WtReg8Data8(	0x60, 0x1d, 0x04);
	I2CM_WtReg8Data8(	0x60, 0x25, 0x04);
	I2CM_WtReg8Data8(	0x60, 0x27, 0x84);
	I2CM_WtReg8Data8(	0x60, 0x28, 0x40);
	I2CM_WtReg8Data8(	0x60, 0x12, 0x09);
	I2CM_WtReg8Data8(	0x60, 0x39, 0xd0);
	I2CM_WtReg8Data8(	0x60, 0xcd, 0x13);
	I2CM_WtReg8Data8(	0x60, 0x13, 0xff);
	I2CM_WtReg8Data8(	0x60, 0x14, 0xa7);
	I2CM_WtReg8Data8(	0x60, 0x15, 0x42);
	I2CM_WtReg8Data8(	0x60, 0x3c, 0xa4);
	I2CM_WtReg8Data8(	0x60, 0x18, 0x60);
	I2CM_WtReg8Data8(	0x60, 0x19, 0x50);
	I2CM_WtReg8Data8(	0x60, 0x1a, 0xe2);
	I2CM_WtReg8Data8(	0x60, 0x37, 0xe8);
	I2CM_WtReg8Data8(	0x60, 0x16, 0x90);
	I2CM_WtReg8Data8(	0x60, 0x43, 0x00);
	I2CM_WtReg8Data8(	0x60, 0x40, 0xfb);
	I2CM_WtReg8Data8(	0x60, 0xa9, 0x44);
	I2CM_WtReg8Data8(	0x60, 0x2f, 0xec);
	I2CM_WtReg8Data8(	0x60, 0x35, 0x10);
	I2CM_WtReg8Data8(	0x60, 0x36, 0x10);
	I2CM_WtReg8Data8(	0x60, 0x0c, 0x00);
	I2CM_WtReg8Data8(	0x60, 0x0d, 0x00);
	I2CM_WtReg8Data8(	0x60, 0xd0, 0x93);
	I2CM_WtReg8Data8(	0x60, 0xdc, 0x2b);
	I2CM_WtReg8Data8(	0x60, 0xd9, 0x41);
	I2CM_WtReg8Data8(	0x60, 0xd3, 0x02);
	I2CM_WtReg8Data8(	0x60, 0xde, 0x7c);
	I2CM_WtReg8Data8(	0x60, 0x3d, 0x08);
	I2CM_WtReg8Data8(	0x60, 0x0c, 0x00);
	I2CM_WtReg8Data8(	0x60, 0x18, 0x2c);
	I2CM_WtReg8Data8(	0x60, 0x19, 0x24);
	I2CM_WtReg8Data8(	0x60, 0x1a, 0x71);
	I2CM_WtReg8Data8(	0x60, 0x9b, 0x69);
	I2CM_WtReg8Data8(	0x60, 0x9c, 0x7d);
	I2CM_WtReg8Data8(	0x60, 0x9d, 0x7d);
	I2CM_WtReg8Data8(	0x60, 0x9e, 0x69);
	I2CM_WtReg8Data8(	0x60, 0x35, 0x04);
	I2CM_WtReg8Data8(	0x60, 0x36, 0x04);
	I2CM_WtReg8Data8(	0x60, 0x65, 0x12);
	I2CM_WtReg8Data8(	0x60, 0x66, 0x20);
	I2CM_WtReg8Data8(	0x60, 0x67, 0x39);
	I2CM_WtReg8Data8(	0x60, 0x68, 0x4e);
	I2CM_WtReg8Data8(	0x60, 0x69, 0x62);
	I2CM_WtReg8Data8(	0x60, 0x6a, 0x74);
	I2CM_WtReg8Data8(	0x60, 0x6b, 0x85);
	I2CM_WtReg8Data8(	0x60, 0x6c, 0x92);
	I2CM_WtReg8Data8(	0x60, 0x6d, 0x9e);
	I2CM_WtReg8Data8(	0x60, 0x6e, 0xb2);
	I2CM_WtReg8Data8(	0x60, 0x6f, 0xc0);
	I2CM_WtReg8Data8(	0x60, 0x70, 0xcc);
	I2CM_WtReg8Data8(	0x60, 0x71, 0xe0);
	I2CM_WtReg8Data8(	0x60, 0x72, 0xee);
	I2CM_WtReg8Data8(	0x60, 0x73, 0xf6);
	I2CM_WtReg8Data8(	0x60, 0x74, 0x11);
	I2CM_WtReg8Data8(	0x60, 0xab, 0x20);
	I2CM_WtReg8Data8(	0x60, 0xac, 0x5b);
	I2CM_WtReg8Data8(	0x60, 0xad, 0x05);
	I2CM_WtReg8Data8(	0x60, 0xae, 0x1b);
	I2CM_WtReg8Data8(	0x60, 0xaf, 0x76);
	I2CM_WtReg8Data8(	0x60, 0xb0, 0x90);
	I2CM_WtReg8Data8(	0x60, 0xb1, 0x90);
	I2CM_WtReg8Data8(	0x60, 0xb2, 0x8c);
	I2CM_WtReg8Data8(	0x60, 0xb3, 0x04);
	I2CM_WtReg8Data8(	0x60, 0xb4, 0x98);
	I2CM_WtReg8Data8(	0x60, 0x4c, 0x03);
	I2CM_WtReg8Data8(	0x60, 0x4d, 0x30);
	I2CM_WtReg8Data8(	0x60, 0x4e, 0x02);
	I2CM_WtReg8Data8(	0x60, 0x4f, 0x5c);
	I2CM_WtReg8Data8(	0x60, 0x50, 0x56);
	I2CM_WtReg8Data8(	0x60, 0x51, 0x00);
	I2CM_WtReg8Data8(	0x60, 0x52, 0x66);
	I2CM_WtReg8Data8(	0x60, 0x53, 0x03);
	I2CM_WtReg8Data8(	0x60, 0x54, 0x30);
	I2CM_WtReg8Data8(	0x60, 0x55, 0x02);
	I2CM_WtReg8Data8(	0x60, 0x56, 0x5c);
	I2CM_WtReg8Data8(	0x60, 0x57, 0x40);
	I2CM_WtReg8Data8(	0x60, 0x58, 0x00);
	I2CM_WtReg8Data8(	0x60, 0x59, 0x66);
	I2CM_WtReg8Data8(	0x60, 0x5a, 0x03);
	I2CM_WtReg8Data8(	0x60, 0x5b, 0x20);
	I2CM_WtReg8Data8(	0x60, 0x5c, 0x02);
	I2CM_WtReg8Data8(	0x60, 0x5d, 0x5c);
	I2CM_WtReg8Data8(	0x60, 0x5e, 0x3a);
	I2CM_WtReg8Data8(	0x60, 0x5f, 0x00);
	I2CM_WtReg8Data8(	0x60, 0x60, 0x66);
	I2CM_WtReg8Data8(	0x60, 0x41, 0x1f);
	I2CM_WtReg8Data8(	0x60, 0xb5, 0x01);
	I2CM_WtReg8Data8(	0x60, 0xb6, 0x02);
	I2CM_WtReg8Data8(	0x60, 0xb9, 0x40);
	I2CM_WtReg8Data8(	0x60, 0xba, 0x28);
	I2CM_WtReg8Data8(	0x60, 0xbf, 0x0c);
	I2CM_WtReg8Data8(	0x60, 0xc0, 0x3e);
	I2CM_WtReg8Data8(	0x60, 0xa3, 0x0a);
	I2CM_WtReg8Data8(	0x60, 0xa4, 0x0f);
	I2CM_WtReg8Data8(	0x60, 0xa5, 0x09);
	I2CM_WtReg8Data8(	0x60, 0xa6, 0x16);
	I2CM_WtReg8Data8(	0x60, 0x9f, 0x0a);
	I2CM_WtReg8Data8(	0x60, 0xa0, 0x0f);
	I2CM_WtReg8Data8(	0x60, 0xa7, 0x0a);
	I2CM_WtReg8Data8(	0x60, 0xa8, 0x0f);
	I2CM_WtReg8Data8(	0x60, 0xa1, 0x10);
	I2CM_WtReg8Data8(	0x60, 0xa2, 0x04);
	I2CM_WtReg8Data8(	0x60, 0xa9, 0x04);
	I2CM_WtReg8Data8(	0x60, 0xaa, 0xa6);
	I2CM_WtReg8Data8(	0x60, 0x75, 0x6a);
	I2CM_WtReg8Data8(	0x60, 0x76, 0x11);
	I2CM_WtReg8Data8(	0x60, 0x77, 0x92);
	I2CM_WtReg8Data8(	0x60, 0x78, 0x21);
	I2CM_WtReg8Data8(	0x60, 0x79, 0xe1);
	I2CM_WtReg8Data8(	0x60, 0x7a, 0x02);
	I2CM_WtReg8Data8(	0x60, 0x7c, 0x05);
	I2CM_WtReg8Data8(	0x60, 0x7d, 0x08);
	I2CM_WtReg8Data8(	0x60, 0x7e, 0x08);
	I2CM_WtReg8Data8(	0x60, 0x7f, 0x7c);
	I2CM_WtReg8Data8(	0x60, 0x80, 0x58);
	I2CM_WtReg8Data8(	0x60, 0x81, 0x2a);
	I2CM_WtReg8Data8(	0x60, 0x82, 0xc5);
	I2CM_WtReg8Data8(	0x60, 0x83, 0x46);
	I2CM_WtReg8Data8(	0x60, 0x84, 0x3a);
	I2CM_WtReg8Data8(	0x60, 0x85, 0x54);
	I2CM_WtReg8Data8(	0x60, 0x86, 0x44);
	I2CM_WtReg8Data8(	0x60, 0x87, 0xf8);
	I2CM_WtReg8Data8(	0x60, 0x88, 0x08);
	I2CM_WtReg8Data8(	0x60, 0x89, 0x70);
	I2CM_WtReg8Data8(	0x60, 0x8a, 0xf0);
	I2CM_WtReg8Data8(	0x60, 0x8b, 0xf0);
	I2CM_WtReg8Data8(	0x60, 0x90, 0xe3);
	I2CM_WtReg8Data8(	0x60, 0x93, 0x10);
	I2CM_WtReg8Data8(	0x60, 0x94, 0x20);
	I2CM_WtReg8Data8(	0x60, 0x95, 0x10);
	I2CM_WtReg8Data8(	0x60, 0x96, 0x18);



}

static void ov2643_setXGA_1024x768_30FPS(void)
{

	MP_ALERT("## %s ##", __FUNCTION__); 	
										
	MP_ALERT("%s: Not Support!!", __FUNCTION__);
	__asm("break 100"); 					

}


DWORD ov2643_Sensor_GetAvgLuminance(void)
{
	MP_DEBUG1("## %s ##", __FUNCTION__);		
											
	SWORD value=0;
	value = I2CM_RdReg8Data8(0x60, 0x1B);
	return (DWORD)value;                    
}





void static OV_CaptureKey_VGA_640x480(void)
{
	MP_DEBUG1("## %s ##", __FUNCTION__);		
		/*@@ UXGA to SVGA Key Setting 800x600 -> 640x480*/
	I2CM_WtReg8Data8(0x60 , 0x3d , 0x48 );/*;sleep*/
	I2CM_WtReg8Data8(0x60 , 0x0e , 0xb8 );/*;clock 48Mhz PCLK*/
	I2CM_WtReg8Data8(0x60 , 0x20 , 0x01 );/*windowing*/
	I2CM_WtReg8Data8(0x60 , 0x21 , 0x98 );
	I2CM_WtReg8Data8(0x60 , 0x22 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x23 , 0x06 );
	I2CM_WtReg8Data8(0x60 , 0x24 , 0x32 );
	I2CM_WtReg8Data8(0x60 , 0x25 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x26 , 0x25 );
	I2CM_WtReg8Data8(0x60 , 0x27 , 0x84 );
	I2CM_WtReg8Data8(0x60 , 0x28 , 0x40 );
	I2CM_WtReg8Data8(0x60 , 0x29 , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x2a , 0xce );
	I2CM_WtReg8Data8(0x60 , 0x2b , 0x02 );
	I2CM_WtReg8Data8(0x60 , 0x2c , 0x8a );
	I2CM_WtReg8Data8(0x60 , 0x12 , 0x09 );
	I2CM_WtReg8Data8(0x60 , 0x39 , 0xd0 );
	I2CM_WtReg8Data8(0x60 , 0xcd , 0x13 );
	I2CM_WtReg8Data8(0x60 , 0xde , 0x7c );
	I2CM_WtReg8Data8(0x60 , 0x3d , 0x08 );/*wakeup*/

}




void static OV_CaptureKey_XGA_1024x768(void)
{
 	MP_DEBUG1("## %s ##", __FUNCTION__);		
/*@@ UXGA Key Setting  1600x1200 -> 1024x768 cropping*/
I2CM_WtReg8Data8(0x60 , 0x3d , 0x48 );/*;sleep*/
I2CM_WtReg8Data8(0x60 , 0x0e , 0xb4 );/*;clock 48Mhz PCLK*/
I2CM_WtReg8Data8(0x60 , 0x20 , 0x01 );
I2CM_WtReg8Data8(0x60 , 0x21 , 0x25 );
I2CM_WtReg8Data8(0x60 , 0x22 , 0x00 );
I2CM_WtReg8Data8(0x60 , 0x23 , 0x0c );
I2CM_WtReg8Data8(0x60 , 0x24 , 0x64 );
I2CM_WtReg8Data8(0x60 , 0x25 , 0x08 );
I2CM_WtReg8Data8(0x60 , 0x26 , 0x4b );
I2CM_WtReg8Data8(0x60 , 0x27 , 0x06 );
I2CM_WtReg8Data8(0x60 , 0x28 , 0x42 );
I2CM_WtReg8Data8(0x60 , 0x29 , 0x07 );
I2CM_WtReg8Data8(0x60 , 0x2a , 0x9e );
I2CM_WtReg8Data8(0x60 , 0x2b , 0x04 );
I2CM_WtReg8Data8(0x60 , 0x2c , 0xce );
I2CM_WtReg8Data8(0x60 , 0x12 , 0x08 );
I2CM_WtReg8Data8(0x60 , 0x39 , 0x10 );
I2CM_WtReg8Data8(0x60 , 0xcd , 0x12 );
I2CM_WtReg8Data8(0x60 , 0xde , 0x4c );
I2CM_WtReg8Data8(0x60 , 0x3d , 0x08 );/*;wakeup*/
                       
}


void static OV_CaptureKey_SXGA_1280x1024(void)
{
	MP_DEBUG1("## %s ##", __FUNCTION__);		

	/*@@ UXGA Key Setting  1600x1200  ->1280x1024 cropping */
	I2CM_WtReg8Data8(0x60 , 0x3d , 0x48 );/*;sleep*/
	I2CM_WtReg8Data8(0x60 , 0x0e , 0xb4 );/*;clock 48Mhz PCLK*/
	I2CM_WtReg8Data8(0x60 , 0x20 , 0x01 );
	I2CM_WtReg8Data8(0x60 , 0x21 , 0x25 );
	I2CM_WtReg8Data8(0x60 , 0x22 , 0x00 );
	I2CM_WtReg8Data8(0x60 , 0x23 , 0x0c );
	I2CM_WtReg8Data8(0x60 , 0x24 , 0x64 );
	I2CM_WtReg8Data8(0x60 , 0x25 , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x26 , 0x4b );
	I2CM_WtReg8Data8(0x60 , 0x27 , 0x06 );
	I2CM_WtReg8Data8(0x60 , 0x28 , 0x42 );
	I2CM_WtReg8Data8(0x60 , 0x29 , 0x07 );
	I2CM_WtReg8Data8(0x60 , 0x2a , 0x9e );
	I2CM_WtReg8Data8(0x60 , 0x2b , 0x04 );
	I2CM_WtReg8Data8(0x60 , 0x2c , 0xce );
	I2CM_WtReg8Data8(0x60 , 0x12 , 0x08 );
	I2CM_WtReg8Data8(0x60 , 0x39 , 0x10 );
	I2CM_WtReg8Data8(0x60 , 0xcd , 0x12 );
	I2CM_WtReg8Data8(0x60 , 0xde , 0x4c );
	I2CM_WtReg8Data8(0x60 , 0x3d , 0x08 );/*;wakeup*/
	 

}



void static OV_CaptureKey_UXGA_1600x1200(void)
{
	MP_DEBUG1("## %s ##", __FUNCTION__);		

/*@@ UXGA Key Setting  1600x1200*/
I2CM_WtReg8Data8(0x60 , 0x3d , 0x48 );/*;sleep*/
I2CM_WtReg8Data8(0x60 , 0x0e , 0xb4 );/*;clock 48Mhz PCLK*/
I2CM_WtReg8Data8(0x60 , 0x20 , 0x01 );
I2CM_WtReg8Data8(0x60 , 0x21 , 0x25 );
I2CM_WtReg8Data8(0x60 , 0x22 , 0x00 );
I2CM_WtReg8Data8(0x60 , 0x23 , 0x0c );
I2CM_WtReg8Data8(0x60 , 0x24 , 0x64 );
I2CM_WtReg8Data8(0x60 , 0x25 , 0x08 );
I2CM_WtReg8Data8(0x60 , 0x26 , 0x4b );
I2CM_WtReg8Data8(0x60 , 0x27 , 0x06 );
I2CM_WtReg8Data8(0x60 , 0x28 , 0x42 );
I2CM_WtReg8Data8(0x60 , 0x29 , 0x07 );
I2CM_WtReg8Data8(0x60 , 0x2a , 0x9e );
I2CM_WtReg8Data8(0x60 , 0x2b , 0x04 );
I2CM_WtReg8Data8(0x60 , 0x2c , 0xce );
I2CM_WtReg8Data8(0x60 , 0x12 , 0x08 );
I2CM_WtReg8Data8(0x60 , 0x39 , 0x10 );
I2CM_WtReg8Data8(0x60 , 0xcd , 0x12 );
I2CM_WtReg8Data8(0x60 , 0xde , 0x4c );
I2CM_WtReg8Data8(0x60 , 0x3d , 0x08 );/*;wakeup*/
                    

}



void OV_CaptureKey_QXGA_2048x1536(void)
{
	MP_ALERT("## %s ##", __FUNCTION__);		
											
	MP_ALERT("%s: Not Support!!", __FUNCTION__);
	__asm("break 100");                     

}



static void OV_CaptureKey_5M_2560x1920(void)
{
	MP_ALERT("## %s ##", __FUNCTION__);		
											
	MP_ALERT("%s: Not Support!!", __FUNCTION__);
	__asm("break 100");                     


}




//frank lin capture flow
void OV_Capture_KeyStting(BYTE IMGSIZE_ID)//(BYTE IMGSIZE_ID)
{

  switch(IMGSIZE_ID)
  {
  	case SIZE_VGA_640x480:
         OV_CaptureKey_VGA_640x480();		
		break;
		
    case SIZE_XGA_1024x768:
		OV_CaptureKey_XGA_1024x768();
		break;
	
    case SIZE_SXGA_1280x1024:
		OV_CaptureKey_SXGA_1280x1024();
		break;
	
  	case SIZE_2M_1600x1200:
		OV_CaptureKey_UXGA_1600x1200();
		break;

	case SIZE_QXGA_2048x1536:
		OV_CaptureKey_QXGA_2048x1536();
		break;

	case SIZE_5M_2560x1920:
		OV_CaptureKey_5M_2560x1920();
		break;

	default:
		MP_ALERT("%s: Not support capture size.", __FUNCTION__);
  }
	
}


void OV_Capture_preview(void)
{
	MP_ALERT("## %s ##", __FUNCTION__);		
	ov2643_setVGA_640x480();                    
}



int Sensor_Capture_OV2643(STREAM *fileHandle, BYTE Capture_IMGSIZE_ID)
{
	MP_DEBUG1("## %s ##", __FUNCTION__);		

	MP_DEBUG1("###### %s ######", __FUNCTION__);
	int iErrorCode;
	extern int SensorInputWidth;
    extern int SensorInputHeight;


	extern int CaptureCloseDisplay_Flag;

	IPU *ipu = (IPU *) IPU_BASE;

	switch(Capture_IMGSIZE_ID)
	{
		case SIZE_5M_2560x1920:
			MP_ALERT("%s:OV2643 Not Support capture IMGSIZE. ID=%d", __FUNCTION__,Capture_IMGSIZE_ID);
			goto Error;
	   		sensor_IMGSIZE_ID = SIZE_5M_2560x1920;//SIZE_2M_1600x1200;
	   		SensorInputWidth  = 2560;
	   		SensorInputHeight = 1920;
	   		break;

		case SIZE_QXGA_2048x1536:
			MP_ALERT("%s:OV2643 Not Support capture IMGSIZE. ID=%d", __FUNCTION__,Capture_IMGSIZE_ID);
			goto Error;
			sensor_IMGSIZE_ID  = SIZE_QXGA_2048x1536;
	   		SensorInputWidth   = 2048;
	   		SensorInputHeight  = 1536;
			break;

		case SIZE_2M_1600x1200:
	   		sensor_IMGSIZE_ID = SIZE_2M_1600x1200;
	   		SensorInputWidth  = 1600;
	   		SensorInputHeight = 1200;
	   		break;

		case SIZE_SXGA_1280x1024:
		   	sensor_IMGSIZE_ID = SIZE_SXGA_1280x1024;
	   		SensorInputWidth  = 1280;
	   		SensorInputHeight = 1024;
	   		break;

       	case SIZE_XGA_1024x768:
	   		sensor_IMGSIZE_ID = SIZE_XGA_1024x768;
	   		SensorInputWidth  = 1024;
	   		SensorInputHeight = 768;
	   		break;

	    case SIZE_VGA_640x480:
	   		sensor_IMGSIZE_ID = SIZE_VGA_640x480;
	   		SensorInputWidth  = 640;
	   		SensorInputHeight = 480;
	   		break;
	   
		default:
			MP_ALERT("%s:Not Support capture IMGSIZE. ID=%d", __FUNCTION__,Capture_IMGSIZE_ID);
			goto Error;
	}

    
    /*Before change to big resolution need to free the older memory*/
	/*If Usign double buffer need to add free memory here.*/
    extern ST_IMGWIN SensorInWin[3];
	ipu->Ipu_reg_100 &= ~BIT0; //close SenInEn
	while(1)
	{
		if((ipu->Ipu_reg_100&BIT0)==0)//Twgih
			break;
	}

    if(sensor_mode==MODE_CAPTURE)
	{
		if(g_bImageData_Buf != NULL)
		{
			ext_mem_free(g_bImageData_Buf);
			g_bImageData_Buf        = NULL;
			SensorInWin[0].pdwStart = NULL;
		}
    }
	else
	{
		MP_ALERT("%s:Error Not caputre mode (sensor_mode =%d)", __FUNCTION__, sensor_mode);
		goto Error;
	}

	
    /*During capture , OV2643 use the same path*/	
	CaptureCloseDisplay_Flag = 0;/*During capture , OV2643 use the same path. Need to cropping*/
		Set_Display_flag(DISABLE);/*close IPW2*/	
		
		//change resolution from VGA to ....
		OV_Capture_KeyStting(sensor_IMGSIZE_ID);//input ImageSize

		Sensor_Run_capture();
	   	Global_Sensor_Run();

		TimerDelay(1800);/*delay time for auto AE adjust */
	   
	   ipu->Ipu_reg_F0 |= BIT6|BIT7;//close ipw1+ipw2
	   ipu->Ipu_reg_F0 &= ~BIT6;

	CaptureCloseDisplay_Flag = 0;
	


	iErrorCode = Sensor_Capture_Encode(fileHandle, SensorInputWidth, SensorInputHeight,sensor_IMGSIZE_ID);	
    /*After here the big memory for capture. the memory is free after Sensor_Capture_Encode*/

	ipu->Ipu_reg_F0 |= BIT6|BIT7;//close ipw1+ipw2


	if(iErrorCode == PASS)
	{
      MP_ALERT("%s:Capture end!! (Successful)", __FUNCTION__);
	}
	else
	{
		MP_ALERT("%s:Capture end!! (Fail)", __FUNCTION__);
	}
	
    sensor_IMGSIZE_ID = SIZE_VGA_640x480;
	SensorInputWidth  = 640;
	SensorInputHeight = 480;

	//----Back to preview mode  ------	
	OV_Capture_preview();
	Set_Display_flag(ENABLE);/*Open IPW2*/
	Sensor_Run();
	Global_Sensor_Run();
	ipu->Ipu_reg_100 |= BIT0; //SenInEn

	//----Back to preview mode  ------
	

	return iErrorCode;

Error:
	//API_Sensor_Stop();
	/*When exit caputer mod, need to call API_Sensor_Stop() to free preview memoy */
	return FAIL;


}





void Drive_Sensor_OV2643(void)
{

		I2CM_FreqChg(0x78, 300000);

		if(sensor_mode==MODE_RECORD)
		{
				if(sensor_IMGSIZE_ID==SIZE_CIF_352x240)
				{
						ov2643_set_352x240_30FPS();
				}else	if(sensor_IMGSIZE_ID==SIZE_VGA_640x480)
				{
						ov2643_setVGA_640x480_30FPS();
				}else if(sensor_IMGSIZE_ID==SIZE_480P_720x480)
				{
						ov2643_set_720x480_30FPS();
				}else if(sensor_IMGSIZE_ID==SIZE_XGA_1024x768)
				{
						ov2643_setXGA_1024x768_30FPS();
				}else{//default 720p
						ov2643_set_720P_1280x720();
				}


		}else if(sensor_mode==MODE_CAPTURE)
		{
            //frank lin capture flow
            MP_ALERT("%s:  capture preview mode (VGA)", __FUNCTION__); 
			OV_Capture_preview();

		}else if(sensor_mode==MODE_PCCAM)
		{
				if(sensor_IMGSIZE_ID==SIZE_QVGA_320x240)
						ov2643_setQVGA_320x240_30FPS();
				else
						ov2643_set_176x144();
		}else
		{
			ov2643_set_720P_1280x720();
		}

}
#endif

#endif



